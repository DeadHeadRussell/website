import Container from '@material-ui/core/Container';
import Typography from '@material-ui/core/Typography';
import {makeStyles} from '@material-ui/core/styles';
import {FC} from 'react';

import {Album as AlbumType} from '../../data';
import {Description} from '../description';
import {HorizontalAlbumHeader} from './horizontalHeader';


const useStyles = makeStyles(theme => ({
  album: {
    display: 'flex',
    flexFlow: 'row wrap',
    justifyContent: 'space-around',
    padding: theme.spacing(2)
  },

  column: {
    flex: 1,
    minWidth: 400,
    minWidth: '50%',
    margin: theme.spacing(2)
  },

  albumArt: {
    display: 'block',
    width: '100%',
    maxWidth: 600,
    margin: 'auto'
  },

  streamingBar: {
    display: 'flex',
    flexFlow: 'row nowrap',
    width: 'fit-content',
    paddingTop: theme.spacing(1),
    paddingBottom: theme.spacing(1),
    paddingLeft: theme.spacing(1),
    paddingRight: theme.spacing(1),
    justifyContent: 'flex-start',
    alignItems: 'center',
    background: '#52250b',
    borderRadius: 6
  },

  streamingLink: {
    display: 'flex',
    alignItems: 'center',
    width: 48,
    height: 48,
    marginLeft: theme.spacing(1),
    marginRight: theme.spacing(1)
  },

  streamingIcon: {
    width: 48
  },

  spotify: {
    display: 'inline-block',
    width: '100%',
    height: '100%',
    minHeight: 380,
    borderRadius: 12
  }
}));

export interface AlbumProps {
  album: AlbumType;
}

export const RemoteAlbum: FC<RemoteAlbumProps> = ({album}) => {
  const classes = useStyles();

  return (
    <div className={classes.album}>
      <div className={classes.column}>
        <img className={classes.albumArt} src={album.art} alt='Album Art' />
      </div>

      <div className={classes.column} style={{minWidth: '50%'}}>
        <Typography variant='h4'>{album.tagline}</Typography>
        <div className={classes.streamingBar}>
          {['spotify', 'apple', 'youtube-music', 'youtube', 'amazon'].map(service => (
            <a key={service} className={classes.streamingLink} href={album.links[service].musicUrl}>
              <img className={classes.streamingIcon} src={'/' + service + '.png'} alt={service} />
            </a>
          ))}
        </div>
        <Description description={album.description} context={{album}} />
      </div>

      <div className={classes.column}>
        <iframe
          className={classes.spotify}
          src={album.links.spotify.embedUrl}
          frameBorder='0'
          allowFullScreen
          allow='autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture'
          loading='lazy'
        />
      </div>

        {/*
        Apple Music
        <iframe
          style={{width:'100%',maxWidth:660,overflow:'hidden',background:'transparent'}}
          allow='autoplay *; encrypted-media *; fullscreen *; clipboard-write'
          frameborder='0'
          height='450'
          sandbox='allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation'
          src={album.links.apple.embedUrl}
        />

        YouTube
        <iframe
          width='560'
          height='560'
          src={album.links.youtube.embedUrl}
          frameborder='0'
          allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture'
          allowFullScreen
        />

        Amazon Music
        <iframe
          id='AmazonMusicEmbedB0BFCSDY51'
          src={album.links.amazon.embedUrl}
          width='100%'
          height='550px'
          style={{border:'1px solid rgba(0, 0, 0, 0.12)'}}
        />
        */}
      {/*booklet embedded*/}
    </div>
  );
};

